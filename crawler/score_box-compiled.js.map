{"version":3,"sources":["score_box.js"],"names":[],"mappings":";;;;AAIE,YAAY,CAAC;;AACf,MAAM,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;;AAEnC,MAAM,OAAO,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAC;AAC7C,MAAM,IAAI,GAAG,OAAO,CAAC,sBAAsB,CAAC,CAAC;AAC7C,MAAM,IAAI,GAAG,OAAO,CAAC,sBAAsB,CAAC,CAAC;;AAE7C,OAAO,CAAC,sBAAsB,EAAE,KAAK,EAAE,QAAQ,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,KAAK;AACnE,MAAI,GAAG,EAAE,OAAO,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;;;AAAA,AAGnC,QAAM,CAAC,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;;AAExC,MAAI,QAAQ,GAAG,EAAE,CAAC;AAClB,GAAC,CAAC,+CAA+C,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,IAAI,KAAI;AACtE,QAAI,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;;AAEnB,QAAI,QAAQ,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,KAAK,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC;AACxE,QAAI,QAAQ,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC;AACvE,QAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACpD,QAAI,SAAS,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;AAC1C,QAAI,SAAS,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;;AAE1C,QAAI,IAAI,GAAG,IAAI,IAAI,CAAC,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAE,IAAI,IAAI,EAAE,CAAC,CAAC;;AAE1E,YAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;AAEpB,QAAI,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,MAAM,KAAK;AACzB,aAAO,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;KAC1B,CAAC,CAAC;GACJ,CAAC,CAAC;;AAEH,SAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;CACvB,CAAC,CAAC","file":"score_box-compiled.js","sourcesContent":["/**\r\n * @author Disciple_D\r\n * @since 2015/12/08 16:30\r\n */\r\n  'use strict';\r\nconst cheerio = require('cheerio');\r\n\r\nconst request = require('./service/request');\r\nconst Team = require('./../db/modules/team');\r\nconst Game = require('./../db/modules/game');\r\n\r\nrequest('http://nba.hupu.com/', 'GET', 'gb2312', (err, res, body) => {\r\n  if (err) return console.error(err);\r\n\r\n  // load page content, and create DOM object\r\n  const $ = cheerio.load(body.toString());\r\n\r\n  let gameList = [];\r\n  $('.boxscore .nbaBox>.listBox>.gamespace_list_no').each((index, item) =>{\r\n    let self = $(item);\r\n\r\n    let homeTeam = new Team(self.find('.nameText a').first().text().trim());\r\n    let awayTeam = new Team(self.find('.nameText a').last().text().trim());\r\n    let score = self.find('.bifen a').text().split(':');\r\n    let homeScore = parseInt(score[0].trim());\r\n    let awayScore = parseInt(score[1].trim());\r\n\r\n    let game = new Game(homeTeam, homeScore, awayTeam, awayScore, new Date());\r\n\r\n    gameList.push(game);\r\n\r\n    game.save((err, result) => {\r\n      console.log(err, result);\r\n    });\r\n  });\r\n\r\n  console.log(gameList);\r\n});"]}