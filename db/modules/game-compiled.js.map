{"version":3,"sources":["game.js"],"names":[],"mappings":";;;;AAIA,YAAY,CAAC;;AACb,MAAM,EAAE,GAAG,OAAO,CAAC,OAAO,CAAC;;;AAAC,AAG5B,SAAS,IAAI,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAC;AACnD,MAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;AACrB,MAAI,CAAC,SAAS,GAAG,SAAS,CAAC;AAC3B,MAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;AACrB,MAAI,CAAC,SAAS,GAAG,SAAS,CAAC;AAC3B,MAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;CACtB;;AAED,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC;;AAEtB,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,UAAS,EAAE,EAAC;AAChC,MAAI,IAAI,GAAG;AACT,YAAQ,EAAE,IAAI,CAAC,QAAQ;AACvB,aAAS,EAAE,IAAI,CAAC,SAAS;AACzB,YAAQ,EAAE,IAAI,CAAC,QAAQ;AACvB,aAAS,EAAE,IAAI,CAAC,SAAS;AACzB,YAAQ,EAAE,IAAI,CAAC,QAAQ;GACxB,CAAC;;AAEF,MAAI,EAAE,EAAC;AACL,MAAE,CAAC,OAAO,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,UAAU,KAAK;AACnC,UAAI,GAAG,EAAC;AACN,UAAE,CAAC,KAAK,EAAE,CAAC;AACX,eAAO,EAAE,CAAC,GAAG,CAAC,CAAC;OAChB;;AAED,gBAAU,CAAC,MAAM,CAAC,IAAI,EAAE;AACtB,YAAI,EAAE,IAAI;OACX,EAAE,CAAC,GAAG,EAAE,IAAI,KAAK;;AAEhB,UAAE,CAAC,KAAK,EAAE,CAAC;;AAEX,eAAO,CAAC,GAAG,CAAC,gCAAgC,CAAC,CAAC;;AAE9C,YAAI,GAAG,EAAE,OAAO,EAAE,CAAC,GAAG,CAAC,CAAC;;AAExB,UAAE,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;OAChB,CAAC,CAAC;KACJ,CAAC,CAAC;GACJ;CAEF,CAAC","file":"game-compiled.js","sourcesContent":["/**\r\n * @author Disciple_D\r\n * @since 2015/12/10 16:00\r\n */\r\n'use strict';\r\nconst db = require('../db');\r\n\r\n// need change to Class in ES6\r\nfunction Game(home, homeScore, away, awayScore, date){\r\n  this.homeTeam = home;\r\n  this.homeScore = homeScore;\r\n  this.awayTeam = away;\r\n  this.awayScore = awayScore;\r\n  this.gameDate = date;\r\n}\r\n\r\nmodule.exports = Game;\r\n\r\nGame.prototype.save = function(cb){\r\n  let game = {\r\n    homeTeam: this.homeTeam,\r\n    homeScore: this.homeScore,\r\n    awayTeam: this.awayTeam,\r\n    awayScore: this.awayScore,\r\n    gameDate: this.gameDate\r\n  };\r\n\r\n  if (db){\r\n    db('games', (err, db, collection) => {\r\n      if (err){\r\n        db.close();\r\n        return cb(err);\r\n      }\r\n\r\n      collection.insert(game, {\r\n        safe: true\r\n      }, (err, game) => {\r\n\r\n        db.close();\r\n\r\n        console.log('Mongo Db connection is closed.');\r\n\r\n        if (err) return cb(err);\r\n\r\n        cb(null, game);\r\n      });\r\n    });\r\n  }\r\n\r\n};\r\n\r\n"]}